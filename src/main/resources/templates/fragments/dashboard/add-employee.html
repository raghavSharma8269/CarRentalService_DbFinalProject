<!-- File: src/main/resources/templates/fragments/dashboard/account-create.html -->
<div th:fragment="content"
     xmlns:th="http://www.thymeleaf.org">
  <div class="container py-5">
    <h2 class="mb-4">Create New User</h2>
    <form th:action="@{/dashboard/admin/accounts/add-employee}"
          th:object="${user}"
          method="post">

      <div class="row g-3">
        <!-- Username -->
        <div class="col-md-6">
          <label for="userName" class="form-label">Username</label>
          <input id="userName"
                 type="text"
                 th:field="*{userName}"
                 class="form-control"
                 placeholder="Enter username"/>
          <div class="text-danger mt-1"
               th:if="${#fields.hasErrors('userName')}"
               th:errors="*{userName}"></div>
        </div>

        <!-- Full Name -->
        <div class="col-md-6">
          <label for="fullName" class="form-label">Full Name</label>
          <input id="fullName"
                 type="text"
                 th:field="*{fullName}"
                 class="form-control"
                 placeholder="Enter full name"/>
          <div class="text-danger mt-1"
               th:if="${#fields.hasErrors('fullName')}"
               th:errors="*{fullName}"></div>
        </div>

        <!-- Email -->
        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input id="email"
                 type="email"
                 th:field="*{email}"
                 class="form-control"
                 placeholder="Enter email"/>
          <div class="text-danger mt-1"
               th:if="${#fields.hasErrors('email')}"
               th:errors="*{email}"></div>
        </div>

        <!-- Password -->
        <div class="col-md-6">
          <label for="password" class="form-label">Password</label>
          <input id="password"
                 type="password"
                 th:field="*{password}"
                 class="form-control"
                 placeholder="Enter password"/>
          <div class="text-danger mt-1"
               th:if="${#fields.hasErrors('password')}"
               th:errors="*{password}"></div>
        </div>

        <!-- Role dropdown -->
        <div class="col-md-6">
          <label for="role" class="form-label">Role</label>
          <select id="role"
                  th:field="*{role}"
                  class="form-select">
            <option value="CUSTOMER">CUSTOMER</option>
            <option value="EMPLOYEE">EMPLOYEE</option>
            <option value="ADMIN">ADMIN</option>
          </select>
          <div class="text-danger mt-1"
               th:if="${#fields.hasErrors('role')}"
               th:errors="*{role}"></div>
        </div>


        <div class="mt-4 d-flex justify-content-end">
        <a th:href="@{/dashboard/admin/accounts}"
           class="btn btn-secondary me-2">Cancel</a>
        <button type="submit"
                class="btn btn-primary">Create User</button>
      </div>

      <p th:if="${success}"
         class="mt-3 text-success"
         th:text="${success}"></p>
      <p th:if="${error}"
         class="mt-3 text-danger"
         th:text="${error}"></p>
    </form>
  </div>
</div>
